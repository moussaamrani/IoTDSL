\section{Discussion \& Remaining Challenges}
\label{sec:Discussion}

The \IOTDSL framework has been designed to empower non-experts with facilities regarding the requirements of \textit{smart home} \IOT solutions. Coupled to \IOT devices and network specifications, the framework offers a rule-based language compilable into a concrete \CEP infrastructure in charge of the event orchestration. \IOTDSL users are then able to describe their own configurations and needs in terms of conditional events and reactions to the manifestation of such conditions.

Tracing back to the features and challenges identified in Section~\ref{sec:Motivation}, \IOTDSL currently meet most of these aspects. We created a layered description language where type of devices can be described at a high level of abstraction, without requiring knowledge in a particular technology. Objects are simply described in terms of producing and consuming (typed) events. From these specifications, modellers are able to represent \textit{smart home} configurations by linking devices to each other with a predefined set of abstract communication protocols. Interactions between multiple devices are then simply  expressed as conditions triggering other events. Those three sub-languages of \IOTDSL just cover the three identified needed features of a \DSL for \IOT.

Based on the literature, we also identified seven important challenges a \IOT modelling solution should tackle. At current development stage, we completely address the following challenges.

\begin{description}
	\item[Capability Discovery] \IOTDSL \textsl{capabilities} have been designed to enable dynamic discovery of devices \textit{interfaces} as a \textsl{capability} can handle devices as parameters.
	
	\item[Reusability] By separating devices' descriptions to network configurations, \IOTDSL empowers reusability of devices in different \IOT systems. Furthermore, as partial \IOTDSL models can be imported into other models, partial definition of networks as well as behavioural specifications can be reused throughout models.
	
	\item[Complex Event Processing] \CEP is the core of \IOTDSL by which the whole events orchestration is handled. Abstract business rules are automatically transformed into a runnable infrastructure and sample code is also generated by the framework for simulation purposes. We notably rely on a powerful \CEP engine that will allow us to even decentralise the middleware code into collaborating nodes in future development of the framework.	
	
	\item[Scalability] As we rely on \CEP for device communication, almost the whole scalability issue is on the \CEP engine's hand. But, as we have chosen our infrastructure carefully, current monolithic solution is dividable into smaller entities that will collaborate if an \IOT network becomes large, such that some (set of) business rules will be deployed on distinct entities, minimising the work load on the middleware, even needing no middleware at all and working in a fully-decentralised way.
	
	\item[Data Management] To cope with an increase of exchanged data, prioritisation and decentralisation policies can be handled by our framework. On the one hand, thanks to configuration possibilities of TRex, events retention policies may be configured. On the other hand, again because TRex supports distributed evaluation of events, the workload may be scattered on the whole network. However, replicating \CEP-capable nodes may produce more events and saturate the network with data transmissions, so an appropriate trade-off must be found between having more \textit{one-to-one} communications or grouping more logic inside one node.
	
\end{description}

However, we scarcely focus on the remaining two challenges, even if they are partially encompassed in current language.

\begin{description}
	\item[Protocol Interoperability] Concrete connections of \textit{things} is not addressed at current stage of development. Mapping rules between abstract devices definitions and concrete specifications of objects are under investigation. Furthermore, as a fully \MDE approach, \IOTDSL should provide generation capabilities of partial \textit{glue} code to map between tangible objects and our \CEP middleware.

	\item[Non-Functional Properties] As for communication-specific features, more general non-functional properties should be expressible in \IOTDSL, especially as we deal with high-level user requirements. This essential aspect is also under investigation to empower modellers with semantic refinements at the typing level and also at the technical mapping level we are currently considering.
\end{description}