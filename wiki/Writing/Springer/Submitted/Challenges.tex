\subsection{Challenges}
\label{sec:Motivation-Challenges}

Many challenges arise directly from the previous hypothesis, in order to provide a feasible, tractable and realistic \IOT solution. Many contributions already investigated the various challenges \IOT systems pose, but we revisit the literature in order to extract those directly relevant to the definition of \IOT \DSLS, and suggest possible high-level solutions.

\begin{description}[leftmargin=0cm]
	\item[Capability Discovery] Providing the ability to drive interconnected devices assumes the capacity of automatically discovering devices' capabilities in a standardised and uniform way~\cite{chaqfeh-12}. Similar processes exist for other technologies, like \textsc{Usb} devices plugged into computers that automatically expose their natures and capabilities. Classifying those capabilities should be useful to build an ontology of normalised functions that could result in powerful \textsc{Api}s to manipulate devices. An \DSL for \IOT would then directly benefit from this kind of \textsc{Api}s to expose dynamically recently connected devices without any preliminary configuration step.
	
	\item[Reusability] Knowledge exchange and reusability of devices' definitions and interaction specifications are essential prerequisites to the adoption of a \DSL for the \IOT. It is not uncommon to reuse existing scenarios that involve a set of devices in different configurations. Those partial \IOT structures with their event orchestrations should be \emph{externalisable}, despite the large amount of standards, \textsc{API}s or hardware~\cite{ma-14}.

	\item[Complex Event Processing (\CEP)] Letting end users deal with devices through their low-level capability interfaces could lead to confusion and stiff complexity for defining usage scenarios~\cite{ma-13}. Rather, providing a way of reifying low-level device computations into high-level events could help end users leverage the complexity of devices networks and pave the way to manipulate them freely and transparently \cite{cugola-12}. Since \CEP consists of deriving meaningful conclusions from a stream of events occurring within a system and responding to them as quickly as possible, it provides a solution to extract meaningful events from low-level computations. However, for a solution to be complete and useful, the reverse operation should be addressed: high-level actions should be adequately translated into low-level actuations and interactions to link the high-level events manipulated by a \DSL to the actual hardware infrastructure of devices.
	
	\item[Protocol Interoperability] A smart-home solution with heterogeneous devices would often integrate elements from various providers, thus communicating through disparate protocols. In order to make them interact efficiently without forcing end users to stick with one vendor, a powerful \DSL should provide ways for interoperability over multiple communication protocols, without requiring end-users to understand the protocols' intricacies, versions and technical restrictions~\cite{gubbi-13}. An adequate \DSL for \IOT should completely hide and automate this aspects, and would possibly rely on multi-protocol solutions like OpenRemote (\url{http://www.openremote.com}) or EnOcean (\url{https://www.enocean.com}), to only name a few. 
	
	\item[Scalability] As the number of application domains increases, the amount of connected devices is expected to rise exponentially. When updating existing \IOT configurations, current solutions may not collapse when adding more elements~\cite{mukho-14}. Furthermore, a \DSL must provide a way to absorb scalability problems, hiding as much as possible purely technical constraints regarding increases in size and complexity of operating configurations. 
	
	\item[Data Management] Analogously to scalability issues, the massive increase in connected devices will produce more and more data to be processed, stored and, for some of them, post processed~\cite{lee-15}. More data means seemingly more storage capabilities and the required space to handle such flow of information will be at its highest ever. Furthermore, the multiplication of available (sensors) sources is creating a whole new world of data processing and mining possibilities, but also a profusion of divergent concrete data types that sooner or later must be mapped to equivalent concepts. Although the kind of \DSL we are targeting comes earlier in this general scheme, it would eventually benefit from the knowledge acquired by mining the collected data to drive and guide users through their daily scenarios.
	
	\item[Non-Functional Properties] A powerful \DSL should encompass typical non-functional properties of device networks to ensure long-life and secure realisation of scenarios. \emph{Performance} is crucial, and depends both on the devices capabilities but also on the quality of the communication network. \emph{Resource availability}, both in terms of computation and memory capability, but also in terms of energy, is another crucial bottleneck for the adoption of \textsc{Dsl}s as a solution for defining scenarios. The generated code from the \DSL should not overload the devices with repetitive communications or unnecessary computations that would drain the device's battery. \emph{Security} is yet another concern with respect to two aspects. First, sensitive data could be exposed through the communication network, endangering users privacy. Second, some functionalities could be locked and only accessible to authorised users~\cite{tan-10}.
\end{description}
This challenges will be revisited in Section \ref{sec:Discussion} in the light of our proposal, to discuss which and to which extent our \DSL offers potential solutions.
